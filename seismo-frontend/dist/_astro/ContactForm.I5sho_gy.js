import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.B2tizaEh.js";import{I as M}from"./index.DK8rA4Xx.js";import{M as w,h as B,L as z,B as I}from"./static.5k07471b.js";import{S as O}from"./Spinner.D8BFhGps.js";function q({className:e="",size:t="medium",...s}){const a="textarea textarea-bordered rounded-md",r={"extra-small":"textarea-xs",small:"textarea-sm",medium:"textarea-md",large:"textarea-lg"},l=`${a} ${r[t]||r.medium} ${e}`;return i.jsx("textarea",{className:l,...s})}class p{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const D=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:D()},x=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},$=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=x(e);o.publicKey=s.publicKey,o.blockHeadless=s.blockHeadless,o.storageProvider=s.storageProvider,o.blockList=s.blockList,o.limitRate=s.limitRate,o.origin=s.origin||t},v=async(e,t,s={})=>{const a=await fetch(o.origin+e,{method:"POST",headers:s,body:t}),r=await a.text(),l=new p(a.status,r);if(a.ok)return l;throw l},k=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},A=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},j=e=>e.webdriver||!e.languages||e.languages.length===0,E=()=>new p(451,"Unavailable For Headless Browser"),C=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},J=e=>!e.list?.length||!e.watchVariable,U=(e,t)=>e instanceof FormData?e.get(t):e[t],P=(e,t)=>{if(J(e))return!1;C(e.list,e.watchVariable);const s=U(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},S=()=>new p(403,"Forbidden"),Q=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},W=async(e,t,s)=>{const a=Number(await s.get(e)||0);return t-Date.now()+a},L=async(e,t,s)=>{if(!t.throttle||!s)return!1;Q(t.throttle,t.id);const a=t.id||e;return await W(a,t.throttle,s)>0?!0:(await s.set(a,Date.now().toString()),!1)},T=()=>new p(429,"Too Many Requests"),Y=async(e,t,s,a)=>{const r=x(a),l=r.publicKey||o.publicKey,m=r.blockHeadless||o.blockHeadless,u=r.storageProvider||o.storageProvider,d={...o.blockList,...r.blockList},f={...o.limitRate,...r.limitRate};return m&&j(navigator)?Promise.reject(E()):(k(l,e,t),A(s),s&&P(d,s)?Promise.reject(S()):await L(location.pathname,f,u)?Promise.reject(T()):v("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},G=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},X=e=>typeof e=="string"?document.querySelector(e):e,Z=async(e,t,s,a)=>{const r=x(a),l=r.publicKey||o.publicKey,m=r.blockHeadless||o.blockHeadless,u=o.storageProvider||r.storageProvider,d={...o.blockList,...r.blockList},f={...o.limitRate,...r.limitRate};if(m&&j(navigator))return Promise.reject(E());const n=X(s);k(l,e,t),G(n);const c=new FormData(n);return P(d,c)?Promise.reject(S()):await L(location.pathname,f,u)?Promise.reject(T()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",l),v("/api/v1.0/email/send-form",c))},ee={init:$,send:Y,sendForm:Z,EmailJSResponseStatus:p};function ce(){const e=h.useRef(),[t,s]=h.useState(!1),[a,r]=h.useState(null),[l,m]=h.useState(null),[u,d]=h.useState({nameError:null,emailError:null,messageError:null});function f(n){n.preventDefault(),s(!0);const c=new FormData(e.current),R=c.get("user_email"),F=c.get("user_name"),_=c.get("message");let g=null,b=null,y=null;const H=/^[a-zA-z- ]{3,20}$/,N=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,K=/^[a-zA-z0-9-_ ]{10,500}$/;if(H.test(F)||(y="Name must be 3-20 characters long and contain only letters and hyphens."),N.test(R)||(g="Please enter a valid email address."),K.test(_)||(b="Message must be 10-500 characters long and can only contain letters, numbers, hyphens, and underscores."),g||b||y){d({emailError:g,nameError:y,messageError:b}),s(!1);return}d({emailError:null,nameError:null,messageError:null}),ee.sendForm("service_ak5azqh","template_e9aalni",e.current,{publicKey:"ux8hQOzLCp6f8Utvu"}).then(()=>{s(!1),m("You have successfully sent the message. Thank you!"),setTimeout(()=>m(null),5e3),r([]),e.current.reset()},V=>{s(!1),m(null),r(V.text),setTimeout(()=>r([]),5e3)})}return i.jsxs(i.Fragment,{children:[a&&i.jsx(w,{type:"error",text:a,setError:r,setSuccess:m}),l&&i.jsx(w,{type:"success",text:l,setError:r,setSuccess:m}),i.jsx("form",{method:"post",onSubmit:f,ref:e,children:i.jsxs("div",{className:"flex flex-col item-center gap-4",children:[B.map(n=>{const c=n.id=="user_name"?u.nameError:n.id=="user_email"?u.emailError:u.messageError;return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(z,{id:n.id,className:"w-full mx-auto",children:n.label}),n.type==="textarea"?i.jsx(q,{...n,className:"w-full mx-auto"}):i.jsx(M,{...n,className:"w-full mx-auto"}),c&&i.jsx("p",{className:"text-error my-2 text-sm",children:c})]},n.id)}),i.jsx("div",{className:"my-4 flex flex-col items-stretch",children:i.jsxs(I,{type:"submit",disabled:t,children:["Submit",t&&i.jsx(O,{})]})})]})})]})}export{ce as default};
