import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.B2tizaEh.js";import{M as g,B as f,L as j}from"./Button.m1076Rmu.js";import{G as b,I as y}from"./index.DK8rA4Xx.js";import{a as w,f as L}from"./apiRequest.BFgfOc0k.js";import{b as _}from"./index.BjSa8P0S.js";function C(a){return b({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"16",height:"20",x:"4",y:"2",rx:"2"},child:[]},{tag:"line",attr:{x1:"8",x2:"16",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"16",x2:"16",y1:"14",y2:"18"},child:[]},{tag:"path",attr:{d:"M16 10h.01"},child:[]},{tag:"path",attr:{d:"M12 10h.01"},child:[]},{tag:"path",attr:{d:"M8 10h.01"},child:[]},{tag:"path",attr:{d:"M12 14h.01"},child:[]},{tag:"path",attr:{d:"M8 14h.01"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]},{tag:"path",attr:{d:"M8 18h.01"},child:[]}]})(a)}function c({children:a,label:e}){return t.jsxs("div",{children:[t.jsxs("h1",{className:"text-start flex flex-row items-center justify-center md:justify-start gap-2 mb-1",children:[t.jsx(_,{}),t.jsx("span",{children:e})]}),t.jsx("hr",{className:"border-neutral-500/50 my-2 w-full"}),t.jsx("div",{className:"flex flex-row flex-wrap md:flex-nowrap justify-center gap-2 mt-4",children:a})]})}function o({coordLabel:a,coordValue:e,coords:n,setCoords:r}){return t.jsxs("div",{className:"flex flex-col items-stretch justify-center gap-2",children:[t.jsx(j,{htmlFor:e,children:a}),t.jsx(y,{type:"number",id:e,name:e,value:n[e],onChange:s=>r({...n,[e]:s.target.value}),size:"sm"})]})}function z({coords:a,setCoords:e}){return t.jsxs("div",{className:"flex flex-row flex-wrap lg:flex-nowrap justify-center items-center gap-8",children:[t.jsxs(c,{label:"Point 1",children:[t.jsx(o,{coordLabel:"Latitude",coordValue:"lat1",coords:a,setCoords:e}),t.jsx(o,{coordLabel:"Longitude",coordValue:"lon1",coords:a,setCoords:e})]}),t.jsxs(c,{label:"Point 2",children:[t.jsx(o,{coordLabel:"Latitude",coordValue:"lat2",coords:a,setCoords:e}),t.jsx(o,{coordLabel:"Longitude",coordValue:"lon2",coords:a,setCoords:e})]})]})}function B(){const[a,e]=l.useState({message:"",type:""}),[n,r]=l.useState(!1),[s,d]=l.useState({lat1:34,lon1:22,lat2:32,lon2:24}),[i,h]=l.useState({distance_km:null,azimuth_a_b:null,azimuth_b_a:null});async function m(){let p=`?lat1=${s.lat1}&lon1=${s.lon1}&lat2=${s.lat2}&lon2=${s.lon2}`;const{resData:u,error:x}=await w({url:L["CALCULATE-DISTANCE"]+p,method:"get",setShowMessage:e,setLoading:r,successMessage:"Distance calculated successfully.",errorMessage:"Cannot compute the distance between the points. Please try again later."});x||h(u)}return t.jsxs(t.Fragment,{children:[a.message&&t.jsx(g,{message:a.message,type:a.type,autoDismiss:5e3,position:"bottom-right",onClose:()=>e({type:"",message:""})}),t.jsx(z,{coords:s,setCoords:d}),t.jsx("div",{className:"my-8 text-center",children:t.jsxs(f,{onClick:m,disabled:!s.lat1||!s.lon1||!s.lat2||!s.lon2,loading:n,tooltiptext:"Compute the distance between two geographic points on the WGS84 ellipsoid",children:["Compute",t.jsx(C,{})]})}),i.distance_km>=0&&t.jsx("div",{children:t.jsxs("p",{children:["The distance between point 1 and point 2 is"," ",t.jsxs("span",{className:"font-bold",children:[i.distance_km," km"]})," with azimuth of point 1 to point 2,"," ",t.jsx("span",{className:"font-bold",children:i.azimuth_a_b})," ","degrees, and of point 2 to point 1,"," ",t.jsx("span",{className:"font-bold",children:i.azimuth_b_a})," degrees"]})}),t.jsxs("div",{className:"mt-16",children:[t.jsxs("p",{children:["The tool utilizes the"," ",t.jsx("a",{target:"_blank",href:"https://docs.obspy.org/packages/autogen/obspy.geodetics.base.gps2dist_azimuth.html",children:t.jsx("code",{children:"gps2dist_azimuth"})})," ","function to do the calculation."]}),t.jsxs("div",{className:"mockup-code my-4",children:[t.jsx("pre",{"data-prefix":1,children:t.jsx("code",{children:"from obspy.geodetics.base import gps2dist_azimuth"})}),t.jsx("pre",{"data-prefix":2,children:t.jsx("code",{children:"gps2dist_azimuth(lat1, lon1, lat2, lon2, a=6378137.0, f=0.0033528106647474805)"})})]})]})]})}export{B as default};
