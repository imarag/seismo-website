import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as g}from"./index.B2tizaEh.js";import{I as j}from"./index.BnPQjDp5.js";import{M as K,L as y,B as M}from"./Button.EkLJJuSE.js";import{S as V}from"./Spinner.D8BFhGps.js";function q({className:e="",size:t="medium",...s}){const o="textarea textarea-bordered rounded-md",r={"extra-small":"textarea-xs",small:"textarea-sm",medium:"textarea-md",large:"textarea-lg"},i=`${o} ${r[t]||r.medium} ${e}`;return a.jsx("textarea",{className:i,...s})}class h{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const B=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},l={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:B()},w=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},O=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=w(e);l.publicKey=s.publicKey,l.blockHeadless=s.blockHeadless,l.storageProvider=s.storageProvider,l.blockList=s.blockList,l.limitRate=s.limitRate,l.origin=s.origin||t},v=async(e,t,s={})=>{const o=await fetch(l.origin+e,{method:"POST",headers:s,body:t}),r=await o.text(),i=new h(o.status,r);if(o.ok)return i;throw i},k=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},D=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},E=e=>e.webdriver||!e.languages||e.languages.length===0,P=()=>new h(451,"Unavailable For Headless Browser"),I=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},C=e=>!e.list?.length||!e.watchVariable,$=(e,t)=>e instanceof FormData?e.get(t):e[t],S=(e,t)=>{if(C(e))return!1;I(e.list,e.watchVariable);const s=$(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},L=()=>new h(403,"Forbidden"),A=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},z=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},N=async(e,t,s)=>{if(!t.throttle||!s)return!1;A(t.throttle,t.id);const o=t.id||e;return await z(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},T=()=>new h(429,"Too Many Requests"),J=async(e,t,s,o)=>{const r=w(o),i=r.publicKey||l.publicKey,m=r.blockHeadless||l.blockHeadless,u=r.storageProvider||l.storageProvider,d={...l.blockList,...r.blockList},c={...l.limitRate,...r.limitRate};return m&&E(navigator)?Promise.reject(P()):(k(i,e,t),D(s),s&&S(d,s)?Promise.reject(L()):await N(location.pathname,c,u)?Promise.reject(T()):v("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},U=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},W=e=>typeof e=="string"?document.querySelector(e):e,Y=async(e,t,s,o)=>{const r=w(o),i=r.publicKey||l.publicKey,m=r.blockHeadless||l.blockHeadless,u=l.storageProvider||r.storageProvider,d={...l.blockList,...r.blockList},c={...l.limitRate,...r.limitRate};if(m&&E(navigator))return Promise.reject(P());const f=W(s);k(i,e,t),U(f);const n=new FormData(f);return S(d,n)?Promise.reject(L()):await N(location.pathname,c,u)?Promise.reject(T()):(n.append("lib_version","4.4.1"),n.append("service_id",e),n.append("template_id",t),n.append("user_id",i),v("/api/v1.0/email/send-form",n))},Q={init:O,send:J,sendForm:Y,EmailJSResponseStatus:h};function ie(){const e=g.useRef(),[t,s]=g.useState(!1),[o,r]=g.useState({message:"",type:""}),[i,m]=g.useState({nameError:null,emailError:null,messageError:null});function u(d){d.preventDefault(),s(!0);const c=new FormData(e.current),f=c.get("user_email"),n=c.get("user_name"),F=c.get("message");let p=null,b=null,x=null;const _=/^[a-zA-Z- ]{3,80}$/,R=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,H=/^[\s\S]{5,500}$/;if(_.test(n)||(x="Please enter your full name (3–80 characters). Only letters, spaces, and hyphens are allowed!"),R.test(f)||(p="The email address you entered is invalid. Please check for typos (e.g. missing @ or domain)!"),H.test(F)||(b="Your message should be between 5 and 500 characters!"),p||b||x){m({emailError:p,nameError:x,messageError:b}),s(!1);return}m({emailError:null,nameError:null,messageError:null}),Q.sendForm("service_ak5azqh","template_e9aalni",e.current,{publicKey:"ux8hQOzLCp6f8Utvu"}).then(()=>{s(!1),r({message:"You have successfully sent the message. Thank you for your feedback !!",type:"success"}),e.current.reset()},ee=>{s(!1),r({message:"We couldn’t send your message at the moment. Please try again shortly or contact us through another method!",type:"error"})})}return a.jsxs(a.Fragment,{children:[o.message&&a.jsx(K,{message:o.message,type:o.type,autoDismiss:5e3,position:"bottom-right",onClose:()=>r({type:"",message:""})}),a.jsx("form",{method:"post",onSubmit:u,ref:e,children:a.jsxs("div",{className:"flex flex-col item-center gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(y,{htmlFor:"user_name",className:"w-full mx-auto",children:"Name"}),a.jsx(j,{id:"user_name",name:"user_name",className:"w-full mx-auto",required:!0}),i.nameError&&a.jsx("p",{className:"text-error my-2 text-sm",children:i.nameError})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(y,{htmlFor:"user_email",className:"w-full mx-auto",children:"Email Address"}),a.jsx(j,{id:"user_email",name:"user_email",className:"w-full mx-auto",required:!0}),i.emailError&&a.jsx("p",{className:"text-error my-2 text-sm",children:i.emailError})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(y,{htmlFor:"message",className:"w-full mx-auto",children:"Feedback"}),a.jsx(q,{id:"message",name:"message",className:"w-full mx-auto",required:!0}),i.messageError&&a.jsx("p",{className:"text-error my-2 text-sm",children:i.messageError})]}),a.jsx("div",{className:"my-4 flex flex-col items-stretch",children:a.jsxs(M,{type:"submit",disabled:t,children:[t?"Submitting...":"Submit",t&&a.jsx(V,{})]})})]})})]})}export{ie as default};
